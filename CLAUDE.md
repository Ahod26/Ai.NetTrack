# CLAUDE.md

This file provides guidance for Claude Code when working with this codebase.

## Project Overview

AI Track is a .NET + React application with AI chat (using MCP for hallucination-free .NET AI responses) and automated news aggregation. See README.md for full details.

## Development Commands

### Backend
```bash
cd backend
dotnet restore          # Restore dependencies
dotnet build            # Build project
dotnet run              # Run API (https://localhost:7197)
dotnet test             # Run all tests
dotnet ef migrations add <MigrationName>  # Create migration after model changes
dotnet ef database update                 # Apply migrations
```

### Frontend
```bash
cd frontend
npm install             # Install dependencies
npm run dev             # Start dev server (http://localhost:5173)
npm run build           # Production build
npm run lint            # Run ESLint
```

Run backend and frontend in separate terminals.

## Architecture

### Backend (.NET 9.0)
- **Controllers/**: Controller-based API endpoints
- **Services/**: Business logic layer
- **Repository/**: Data access layer
- **Models/**: Entity and DTO definitions
- **Hubs/**: SignalR real-time communication
- **MCP/**: Model Context Protocol integration
- **Background/**: Background services (news collection)
- **Middleware/**: Request pipeline middleware
- **Extensions/**: Service registration extension methods for IServiceCollection

### Frontend (React 19 + Vite)
- **components/**: Feature-based component organization
- **pages/**: Route-level components
- **hooks/**: Custom React hooks
- **api/**: API client and configuration
- **contexts/**: React context providers
- **utils/**: Utility functions

## Code Style

- Follow existing architecture and design patterns in the codebase
- Backend: Controller-based APIs, Repository pattern, dependency injection via extension methods, async/await
- Frontend: Functional components, custom hooks, Redux Toolkit for client state, TanStack Query for server state
- Service registration uses extension methods in `Extensions/` folder (not inline in Program.cs)
- Keep code high-level and readable

## Testing

- Run `dotnet test` before submitting changes
- Add tests when implementing new features
- Update tests when modifying code that has existing test coverage
- Test projects: `backend.UnitTests`, `backend.IntegrationTests`
- Testing stack: xUnit, FluentAssertions, Moq

## Git Commits

- Write clean, concise commit messages
- Do NOT add "Generated with Claude Code" or "Co-Authored-By" lines to commits

## Files to Avoid Modifying

Unless explicitly requested, do not modify:
- `appsettings*.json` (contains connection strings/secrets)
- `Migrations/` folder (auto-generated by EF Core)
- `.env` files
- User secrets configuration
- Any configuration files with sensitive data

## Key Technologies

- **Backend**: ASP.NET Core 9, EF Core + MySQL, SignalR, Redis Stack, OpenAI API, MCP SDK
- **Frontend**: React 19, Vite 7, Redux Toolkit, TanStack Query, SignalR client
- **Auth**: JWT + Google OAuth2
